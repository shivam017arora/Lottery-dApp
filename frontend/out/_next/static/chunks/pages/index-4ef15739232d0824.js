(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{78581:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(81256)}])},96301:function(b,e,a){"use strict";var c=a(35206),d=a(63021);b.exports={abi:d,contractAddresses:c}},81256:function(d,b,a){"use strict";a.r(b),a.d(b,{"default":function(){return r}});var e=a(85893),f=a(83078),g=a(9008),c=a(34051),h=a.n(c),i=a(67294),j=a(34295);function k(){return(0,e.jsx)("div",{className:"w-full container mx-auto p-6",children:(0,e.jsxs)("div",{className:"w-full flex items-center justify-between",children:[(0,e.jsxs)("a",{className:"flex items-center text-indigo-400 no-underline hover:no-underline font-bold text-2xl lg:text-4xl",href:"#",children:[(0,e.jsx)("svg",{className:"h-8 fill-current text-indigo-600 pr-2",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:(0,e.jsx)("path",{d:"M10 20a10 10 0 1 1 0-20 10 10 0 0 1 0 20zm-5.6-4.29a9.95 9.95 0 0 1 11.2 0 8 8 0 1 0-11.2 0zm6.12-7.64l3.02-3.02 1.41 1.41-3.02 3.02a2 2 0 1 1-1.41-1.41z"})})," ","Decentralized Lottery"]}),(0,e.jsx)("div",{className:"flex w-1/2 justify-end content-center",children:(0,e.jsx)("a",{className:"inline-block text-blue-300 no-underline hover:text-indigo-800 hover:text-underline text-center h-10 p-2 md:h-auto md:p-4",children:(0,e.jsx)(j.NL,{moralisAuth:!1})})})]})})}var l=a(96301),m=[{inputs:[{internalType:"address",name:"vrfCoordinatorV2",type:"address"},{internalType:"uint64",name:"subscriptionId",type:"uint64"},{internalType:"bytes32",name:"gasLane",type:"bytes32"},{internalType:"uint256",name:"interval",type:"uint256"},{internalType:"uint256",name:"entranceFee",type:"uint256"},{internalType:"uint32",name:"callbackGasLimit",type:"uint32"},],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"have",type:"address"},{internalType:"address",name:"want",type:"address"},],name:"OnlyCoordinatorCanFulfill",type:"error"},{inputs:[],name:"Raffle__RaffleNotOpen",type:"error"},{inputs:[],name:"Raffle__SendMoreToEnterRaffle",type:"error"},{inputs:[],name:"Raffle__TransferFailed",type:"error"},{inputs:[{internalType:"uint256",name:"currentBalance",type:"uint256"},{internalType:"uint256",name:"numPlayers",type:"uint256"},{internalType:"uint256",name:"raffleState",type:"uint256"},],name:"Raffle__UpkeepNotNeeded",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"player",type:"address"},],name:"RaffleEnter",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"requestId",type:"uint256"},],name:"RequestedRaffleWinner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"player",type:"address"},],name:"WinnerPicked",type:"event"},{inputs:[{internalType:"bytes",name:"",type:"bytes"},],name:"checkUpkeep",outputs:[{internalType:"bool",name:"upkeepNeeded",type:"bool"},{internalType:"bytes",name:"",type:"bytes"},],stateMutability:"view",type:"function"},{inputs:[],name:"enterRaffle",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"getEntranceFee",outputs:[{internalType:"uint256",name:"",type:"uint256"},],stateMutability:"view",type:"function"},{inputs:[],name:"getInterval",outputs:[{internalType:"uint256",name:"",type:"uint256"},],stateMutability:"view",type:"function"},{inputs:[],name:"getLastTimeStamp",outputs:[{internalType:"uint256",name:"",type:"uint256"},],stateMutability:"view",type:"function"},{inputs:[],name:"getNumWords",outputs:[{internalType:"uint256",name:"",type:"uint256"},],stateMutability:"pure",type:"function"},{inputs:[],name:"getNumberOfPlayers",outputs:[{internalType:"uint256",name:"",type:"uint256"},],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"index",type:"uint256"},],name:"getPlayer",outputs:[{internalType:"address",name:"",type:"address"},],stateMutability:"view",type:"function"},{inputs:[],name:"getRaffleState",outputs:[{internalType:"enum Raffle.RaffleState",name:"",type:"uint8"},],stateMutability:"view",type:"function"},{inputs:[],name:"getRecentWinner",outputs:[{internalType:"address",name:"",type:"address"},],stateMutability:"view",type:"function"},{inputs:[],name:"getRequestConfirmations",outputs:[{internalType:"uint256",name:"",type:"uint256"},],stateMutability:"pure",type:"function"},{inputs:[{internalType:"bytes",name:"",type:"bytes"},],name:"performUpkeep",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"requestId",type:"uint256"},{internalType:"uint256[]",name:"randomWords",type:"uint256[]"},],name:"rawFulfillRandomWords",outputs:[],stateMutability:"nonpayable",type:"function"},],n=a(35553);function o(c,d,e,f,g,h,i){try{var a=c[h](i),b=a.value}catch(j){e(j);return}a.done?d(b):Promise.resolve(b).then(f,g)}function p(a){return function(){var b=this,c=arguments;return new Promise(function(e,f){var g=a.apply(b,c);function d(a){o(g,e,f,d,h,"next",a)}function h(a){o(g,e,f,d,h,"throw",a)}d(void 0)})}}function q(){(0,f.JX)().runContractFunction;var u,c=(0,f.Nr)(),d=c.chainId,v=c.isWeb3Enabled,g=(0,i.useState)(0),k=g[0],B=g[1],o=(0,i.useState)(0),w=o[0],C=o[1],q=(0,i.useState)(null),x=q[0],D=q[1],E=(0,j.lm)(),r=function(a){switch(parseInt(a)){case 1:return"mainnet";case 4:return"rinkeby";case 1337:return"hardhat";case 31337:return"hardhat";default:return"unknown"}},a=r(d) in l.contractAddresses?l.contractAddresses[r(d)][0]:null,b=(0,f.JX)({abi:m,contractAddress:a,functionName:"enterRaffle",params:{},msgValue:k}),F=b.runContractFunction,s=b.isLoading,t=b.isFetching,y=(0,f.JX)({abi:m,contractAddress:a,functionName:"getEntranceFee",params:{}}),G=y.runContractFunction,z=(0,f.JX)({abi:m,contractAddress:a,functionName:"getNumberOfPlayers",params:{}}),H=z.runContractFunction,A=(0,f.JX)({abi:m,contractAddress:a,functionName:"getRecentWinner",params:{}}),I=A.runContractFunction;function J(){return K.apply(this,arguments)}function K(){return(K=p(h().mark(function a(){var b,c,d;return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,G();case 2:return B(b=a.sent.toString()),a.next=6,H();case 6:return C(c=a.sent.toString()),a.next=10,I();case 10:D(d=a.sent);case 12:case"end":return a.stop()}},a)}))).apply(this,arguments)}(0,i.useEffect)(function(){v&&J()},[v]);var L=(u=p(h().mark(function a(b){return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,b.wait(1);case 2:M(b),J();case 4:case"end":return a.stop()}},a)})),function(a){return u.apply(this,arguments)}),M=function(a){E({type:"info",message:"Transaction Complete!",title:"Tx Notification",position:"topR",icon:"bell"})};return(0,e.jsx)("div",{children:a?(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"px-5 m-5",children:[(0,e.jsxs)("div",{children:[" ",(0,e.jsx)("span",{className:"font-black",children:"Entrance Fee:"})," ",n.bM(k)]}),(0,e.jsxs)("div",{children:[" ",(0,e.jsx)("span",{className:"font-black",children:" Num of Players:"})," ",w]}),(0,e.jsxs)("div",{children:[" ",(0,e.jsx)("span",{className:"font-black",children:"Recent Winner: "}),x]})]}),(0,e.jsx)("div",{className:"relative top-32 pl-10",children:(0,e.jsx)("button",{disabled:s||t,className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",onClick:p(h().mark(function a(){return h().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,F({onSuccess:L,onError:function(a){console.log(a)}});case 2:return a.abrupt("return",a.sent);case 3:case"end":return a.stop()}},a)})),children:s||t?(0,e.jsx)("div",{className:"animate-spin spinner-border h-8 w-8 border-b-2 rounded-full"}):"Enter Raffle"})})]}):(0,e.jsx)("div",{children:"No Contract Deployed on this Network"})})}function r(){return(0,e.jsxs)("div",{children:[(0,e.jsxs)(g.default,{children:[(0,e.jsx)("title",{children:" Lottery "}),(0,e.jsx)("meta",{name:"description",content:"Smart Contract Lottery App"})]}),(0,e.jsxs)("div",{className:"h-screen bg-right bg-cover mybackground",children:[(0,e.jsx)(k,{}),(0,e.jsx)(q,{})]})]})}},9008:function(a,c,b){a.exports=b(83121)},63021:function(a){"use strict";a.exports=JSON.parse('[{"type":"constructor","payable":false,"inputs":[{"type":"address","name":"vrfCoordinatorV2"},{"type":"uint64","name":"subscriptionId"},{"type":"bytes32","name":"gasLane"},{"type":"uint256","name":"interval"},{"type":"uint256","name":"entranceFee"},{"type":"uint32","name":"callbackGasLimit"}]},{"type":"error","name":"OnlyCoordinatorCanFulfill","inputs":[{"type":"address","name":"have"},{"type":"address","name":"want"}]},{"type":"error","name":"Raffle__RaffleNotOpen","inputs":[]},{"type":"error","name":"Raffle__TransferFailed","inputs":[]},{"type":"error","name":"Raffle__UpkeepNotNeeded","inputs":[{"type":"uint256","name":"currentBalance"},{"type":"uint256","name":"numPlayers"},{"type":"uint256","name":"raffleState"}]},{"type":"event","anonymous":false,"name":"RaffleEnter","inputs":[{"type":"address","name":"player","indexed":true}]},{"type":"event","anonymous":false,"name":"RequestedRaffleWinner","inputs":[{"type":"uint256","name":"requestId","indexed":true}]},{"type":"event","anonymous":false,"name":"WinnerPicked","inputs":[{"type":"address","name":"player","indexed":true}]},{"type":"function","name":"checkUpkeep","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[{"type":"bytes"}],"outputs":[{"type":"bool","name":"upkeepNeeded"},{"type":"bytes"}]},{"type":"function","name":"enterRaffle","constant":false,"stateMutability":"payable","payable":true,"gas":29000000,"inputs":[],"outputs":[]},{"type":"function","name":"getEntranceFee","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getInterval","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getLastTimeStamp","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getNumWords","constant":true,"stateMutability":"pure","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getNumberOfPlayers","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"getPlayer","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[{"type":"uint256","name":"index"}],"outputs":[{"type":"address"}]},{"type":"function","name":"getRaffleState","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint8"}]},{"type":"function","name":"getRecentWinner","constant":true,"stateMutability":"view","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"address"}]},{"type":"function","name":"getRequestConfirmations","constant":true,"stateMutability":"pure","payable":false,"gas":29000000,"inputs":[],"outputs":[{"type":"uint256"}]},{"type":"function","name":"performUpkeep","constant":false,"payable":false,"gas":29000000,"inputs":[{"type":"bytes"}],"outputs":[]},{"type":"function","name":"rawFulfillRandomWords","constant":false,"payable":false,"gas":29000000,"inputs":[{"type":"uint256","name":"requestId"},{"type":"uint256[]","name":"randomWords"}],"outputs":[]}]')},35206:function(a){"use strict";a.exports=JSON.parse('{"hardhat":["0xCf7Ed3AccA5a467e9e704C703E8D87F634fB0Fc9"]}')}},function(a){a.O(0,[774,888,179],function(){return a(a.s=78581)}),_N_E=a.O()}])